<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Інтернет-магазин</title>
    <meta name="description" content="Великий асортимент">
    <meta name="keywords" content="Інтернет-магазин">
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <!-- Facebook Pixel Code -->
    <script async="" src="js/fbevents.js"></script>
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
            'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '744271821681664');
        fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
        src="https://www.facebook.com/tr?id=744271821681664&ev=PageView&noscript=1"
        /></noscript>
    <!-- End Facebook Pixel Code -->

    <style>
        /* ===== FAST DELIVERY WIDGET STYLES ===== */
        #fast-delivery-widget { position: fixed; bottom: 35px; left: 20px; z-index: 999; padding: 10px 30px 10px 70px; border-radius: 5px; box-shadow: 0 0 16px 0 rgba(0,0,0,.15);}
        #fast-delivery-widget .fast-delivery-widget__close { display: block; width: 11px; height: 11px; position: absolute; top:10px; right: 10px; cursor: pointer;}
        #fast-delivery-widget .fast-delivery-widget__close:before, #fast-delivery-widget .fast-delivery-widget__close:after {content:''; display: block; width: 1px; height: 15px; position: absolute; top:-2px;}
        #fast-delivery-widget .fast-delivery-widget__close:before { left: 5px; transform: rotate(-45deg);}
        #fast-delivery-widget .fast-delivery-widget__close:after { left: 5px; transform: rotate(45deg);}
        #fast-delivery-widget.fast-delivery-widget_light .fast-delivery-widget__close:before,
        #fast-delivery-widget.fast-delivery-widget_light .fast-delivery-widget__close:after {background: #b5b5b5;}
        #fast-delivery-widget.fast-delivery-widget_green .fast-delivery-widget__close:before,
        #fast-delivery-widget.fast-delivery-widget_green .fast-delivery-widget__close:after {background: #fff;}
        #fast-delivery-widget .fast-delivery-widget__title { font-size: 14px; font-weight: 700; line-height: 1.5em; letter-spacing: .2px;}
        #fast-delivery-widget .fast-delivery-widget__info { line-height: 1.5em; font-size: 14px;}
        #fast-delivery-widget.fast-delivery-widget_light { color: #333; background: #fff url(data:image/png;base64,...) no-repeat  15px center;}
        #fast-delivery-widget.fast-delivery-widget_green { background: #67c30d url(data:image/png;base64,...) no-repeat 15px center; color:#fff;}
    </style>
</head>
<body>
    <div class="main_wrapper">
        <!-- ===== HEADER ===== -->
        <header class="active">
            <svg class="nav-button" id="hamburger" fill="none" viewBox="0 0 52 23">
                <path stroke="#fff" stroke-linecap="round" stroke-width="3" d="M2 1.5h48M2 21.5h48M2 11.5h48"></path>
            </svg>
        </header>
        <nav id="menu" class="modal-body">
            <div class="modal-block">
                <ul>
                    <li><a href="#home">Головна</a></li>
                    <li><a href="#video">Відео</a></li>
                    <li><a href="#peculiarities">Переваги</a></li>
                    <li><a href="#description">Опис</a></li>
                    <li><a href="#characteristic">Характеристики</a></li>
                    <li><a href="#feedback">Відгуки</a></li>
                    <li><a href="#order_form">Замовити</a></li>
                </ul>
            </div>
        </nav>

        <!-- ===== OFFER SECTION ===== -->
        <div id="home" class="offer_section offer3 offer_section-top">
            <div class="benefits_list clearfix">
                <div class="benefit_item">Доставка по Україні</div>
                <div class="benefit_item">Обмежена пропозиція</div>
                <div class="benefit_item">Оплата при отриманні</div>
            </div>
            <div class="image_block">
                <h1 class="box-title">
                    <div class="text">Швабра з розпилювачем</div>
                </h1>
                <img class="offer_image" src="images/offer__image.jpg" alt="Швабра з віджиманням та відром">
                <div class="discount_block">
                    <div class="value">-35%</div>
                    <div class="text">знижка</div>
                </div>
            </div>
            <div class="price_block">
                <div class="price_item old">
                    <div class="text">Звичайна ціна:</div>
                    <div class="value"><span>1090</span> грн</div>
                </div>
                <div class="price_item new">
                    <div class="text">Ціна по акції:</div>
                    <div class="value"><span>550</span> грн</div>
                </div>
            </div>
            <ul>
                <li>Дає змогу мити підлогу тільки чистою водою</li>
                <li>Компактна та легка конструкція</li>
                <li>Підходить для миття важкодоступних місць</li>
            </ul>
        </div>

        <!-- ===== NEW ORDER FORM ===== -->
        <section class="offer_section" id="order_form">
            <div class="wrapper">
                <h2 class="main_title">Зробіть замовлення зараз</h2>
                <form class="form-block" action="#" method="GET">
                    <input type="text" name="Ім'я" placeholder="Ваше ім'я" required>
                    <input type="tel" name="Телефон" placeholder="Ваш телефон" required>
                    <textarea name="Коментар" placeholder="Коментар до замовлення"></textarea>
                    <button type="submit">Замовити зараз</button>
                </form>
                <div class="products_count">* Купили <b>17</b> шт за акцією</div>
            </div>
        </section>

        <!-- ===== FOOTER ===== -->
        <footer class="footer_section">
            <div style="font-size:13px;text-align:center;">
                <p>Графік роботи: Пн - Нд: 08:00 - 23:00</p>
                <p>
                    <a href="politics.html" style="color:inherit;">Політика конфіденційності</a><br>
                    <a href="agreement.html" style="color:inherit;">Угода користувача</a><br>
                    <a href="garantiya.html" style="color:inherit;">Умови гарантії та повернення</a>
                </p>
            </div>
        </footer>
    </div>

    <!-- ===== SCRIPTS ===== -->
    <script defer src="js/previewYouTube.js"></script>
    <script defer src="js/owl.carousel.min.js"></script>
    <script defer src="js/scripts.js"></script>
    <script src="js/jquery.js"></script>

    <!-- ===== TELEGRAM FORM SCRIPT ===== -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const TOKEN = '8492105823:AAEvFu7fVOx0NLCopV4Kz9tuG2WeFu3QW0M';
        const CHAT_ID = '468926553';

        const form = document.querySelector('.form-block');
        form.addEventListener('submit', async (event) => {
            event.preventDefault();

            const formData = new FormData(form);
            const esc = (s) => String(s)
                .replace(/&/g,'&amp;')
                .replace(/</g,'&lt;')
                .replace(/>/g,'&gt;');

            const lines = [];
            for (const [key, value] of formData.entries()) {
                lines.push(`<b>${esc(key)}:</b> ${esc(value.trim())}`);
            }
            lines.push(`<b>source:</b> ${esc(location.hostname + location.pathname)}`);
            lines.push(`<b>time:</b> ${esc(new Date().toLocaleString())}`);

            const message = lines.join('\n');

            const btn = form.querySelector('button[type="submit"]');
            const prevText = btn.textContent;
            btn.disabled = true;
            btn.textContent = 'Надсилаємо...';

            try {
                const response = await fetch(`https://api.telegram.org/bot${TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: CHAT_ID,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });

                if (response.ok) {
                    alert('Дякуємо! Ваше замовлення прийнято.');
                    form.reset();
                } else {
                    alert('Помилка при відправці. Спробуйте пізніше.');
                }
            } catch (error) {
                console.error(error);
                alert('Помилка при відправці. Спробуйте пізніше.');
            } finally {
                btn.disabled = false;
                btn.textContent = prevText;
            }
        });
    });
    </script>
</body>
</html>
